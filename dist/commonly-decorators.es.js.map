{"version":3,"file":"commonly-decorators.es.js","sources":["../src/lib/freeze.ts","../src/commonly-decorators.ts"],"sourcesContent":["import freezeClick from \"freeze-click\";\n\nexport default function freeze(maxTimeout = 10000) {\n  return function closureFn(\n    target: any,\n    property: string,\n    descriptor: PropertyDescriptor,\n  ) {\n    const fn = descriptor.value;\n\n    descriptor.value = freezeClick(async function newFn(\n      this: any,\n      fc,\n      ...opts\n    ) {\n      try {\n        const result = await fn.apply(this, opts);\n        return result;\n      } catch (e) {\n        throw e;\n      } finally {\n        fc.cancel();\n      }\n    }, maxTimeout);\n  };\n}\n","import freeze from \"./lib/freeze\";\n\nexport { freeze };\n\nexport default {\n  freeze,\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEwB,SAAA,MAAM,CAAC,UAAkB,EAAA;AAAlB,IAAA,IAAA,UAAA,KAAA,KAAA,CAAA,EAAA,EAAA,UAAkB,GAAA,KAAA,CAAA,EAAA;AAC/C,IAAA,OAAO,SAAS,SAAS,CACvB,MAAW,EACX,QAAgB,EAChB,UAA8B,EAAA;AAE9B,QAAA,IAAM,EAAE,GAAG,UAAU,CAAC,KAAK,CAAC;QAE5B,UAAU,CAAC,KAAK,GAAG,WAAW,CAAC,SAAe,KAAK,CAEjD,EAAE,EAAA;YACF,IAAO,IAAA,GAAA,EAAA,CAAA;iBAAP,IAAO,EAAA,GAAA,CAAA,EAAP,EAAO,GAAA,SAAA,CAAA,MAAA,EAAP,EAAO,EAAA,EAAA;gBAAP,IAAO,CAAA,EAAA,GAAA,CAAA,CAAA,GAAA,SAAA,CAAA,EAAA,CAAA,CAAA;;;;;;;;4BAGU,OAAM,CAAA,CAAA,YAAA,EAAE,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAA,CAAA;;AAAnC,4BAAA,MAAM,GAAG,EAA0B,CAAA,IAAA,EAAA,CAAA;AACzC,4BAAA,OAAA,CAAA,CAAA,aAAO,MAAM,CAAC,CAAA;;;AAEd,4BAAA,MAAM,GAAC,CAAC;;4BAER,EAAE,CAAC,MAAM,EAAE,CAAC;;;;;;SAEf,EAAE,UAAU,CAAC,CAAC;AACjB,KAAC,CAAC;AACJ;;ACrBA,yBAAe;AACb,IAAA,MAAM,EAAA,MAAA;CACP;;;;"}