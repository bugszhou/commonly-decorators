{"version":3,"file":"commonly-decorators.min.js","sources":["../src/lib/freeze.ts","../src/lib/miniprogram/Assemble.ts","../node_modules/return-data/src/index.ts","../src/lib/miniprogram/Polling.ts","../src/lib/common/param.ts","../src/index.ts"],"sourcesContent":["import freezeClick from \"freeze-click\";\n\nexport default function freeze(maxTimeout = 10000) {\n  return function closureFn(\n    target: any,\n    property: string,\n    descriptor: PropertyDescriptor,\n  ) {\n    const fn = descriptor.value;\n\n    descriptor.value = freezeClick(async function newFn(\n      this: any,\n      fc,\n      ...opts\n    ) {\n      try {\n        const result = await fn.apply(this, opts);\n        return result;\n      } catch (e) {\n        throw e;\n      } finally {\n        fc.cancel();\n      }\n    }, maxTimeout);\n  };\n}\n","interface IInject {\n  new (...opts: any[]): any;\n}\n\nexport function Assemble(\n  key: string,\n  constructor: IInject,\n  constructorArgs?: string[],\n) {\n  return function closureFn(target: any, property: string) {\n    const fn = target[key];\n\n    if (typeof fn !== \"function\" && typeof fn?.then !== \"function\") {\n      target[key] = async function newFn(...opts: any[]) {\n        try {\n          const args =\n            (opts[0] ? constructorArgs?.map((item) => opts[0][item]) : []) ||\n            [];\n          this[property] = new constructor(...args);\n        } catch (e) {\n          console.error(e);\n        }\n      };\n      return;\n    }\n\n    target[key] = async function newFn(...opts: any[]) {\n      try {\n        const args =\n          (opts[0] ? constructorArgs?.map((item) => opts[0][item]) : []) || [];\n        this[property] = new constructor(...args);\n        const result = await fn.apply(this, opts);\n        return result;\n      } catch (e) {\n        throw e;\n      }\n    };\n  };\n}\n\nexport function AssembleValue<IValue = unknown>(key: string, value: IValue) {\n  return function closureFn(target: any, property: string) {\n    const fn = target[key];\n\n    if (typeof fn !== \"function\" && typeof fn?.then !== \"function\") {\n      target[key] = async function newFn() {\n        try {\n          this[property] = value;\n        } catch (e) {\n          console.error(e);\n        }\n      };\n      return;\n    }\n\n    target[key] = async function newFn(...opts: any[]) {\n      try {\n        this[property] = value;\n        const result = await fn.apply(this, opts);\n        return result;\n      } catch (e) {\n        throw e;\n      }\n    };\n  };\n}\n","/*\n * @Author: youzhao.zhou\n * @Date: 2021-08-19 16:51:33\n * @Last Modified by: youzhao.zhou\n * @Last Modified time: 2021-09-08 21:01:35\n * @Description 统一返回格式\n */\n\nimport BaseReturn, { IReturnData } from \"./BaseReturn\";\n\nexport { BaseReturn };\n\n/**\n * 统一返回格式\n */\nexport default class ReturnData<T = any> {\n  /**\n   * 状态值类型\n   *\n   * ok -- 成功\n   * deny -- 用户拒绝或系统拒绝\n   * fail -- 执行失败\n   */\n  private status: string;\n\n  private data: T | null;\n\n  private msg = \"\";\n\n  private extraData: any = null;\n\n  constructor(\n    status: string,\n    data: T | null | undefined = null,\n    msg = \"success\",\n  ) {\n    this.status = status;\n    this.data = data;\n    this.msg = msg;\n  }\n\n  getStatus(): string {\n    return this.status;\n  }\n\n  getData(): T | null {\n    return this.data;\n  }\n\n  getMsg(): string {\n    return this.msg;\n  }\n\n  setMsg(msg: string): void {\n    this.msg = msg;\n  }\n\n  getExtraData() {\n    return this.extraData;\n  }\n\n  setExtraData(data: any) {\n    this.extraData = data;\n  }\n\n  /**\n   * 判断是否成功\n   * @param {any} data\n   * @returns boolean\n   */\n  static isOk(data: any): boolean {\n    return getStatusIsFunction(data) && data.getStatus() === \"ok\";\n  }\n\n  static isFail(data: any): boolean {\n    return getStatusIsFunction(data) && data.getStatus() === \"fail\";\n  }\n\n  static isDeny(data: any): boolean {\n    return getStatusIsFunction(data) && data.getStatus() === \"deny\";\n  }\n\n  /**\n   * 判断data是不是null或者undefined\n   * @param param\n   * @returns\n   */\n  static hasData(param: any): boolean {\n    if (!param || typeof param.getData !== \"function\") {\n      return false;\n    }\n    const data = param.getData();\n    return !(typeof data === \"undefined\" || data === null);\n  }\n\n  /**\n   * 是否是网络错误\n   * @param data\n   * @returns\n   */\n  static isNetWorkError(data: any): boolean {\n    return (\n      (ReturnData.getStatusIsFunction(data) &&\n        data.getStatus() === \"NETWORK_ERROR\") ||\n      data?.status === \"NETWORK_ERROR\"\n    );\n  }\n\n  /**\n   * 覆盖原有的逻辑\n   * @param data\n   * @returns\n   */\n  static cover<T = boolean>(keyName: string, value: (data: any) => T): void {\n    (ReturnData as any)[keyName] = value;\n  }\n\n  /**\n   * 返回成功\n   * @param data\n   * @returns ReturnData\n   */\n  static success<IData = any>(data?: IData) {\n    return new ReturnData<IData>(\"ok\", data);\n  }\n\n  /**\n   * 返回失败\n   * @returns ReturnData\n   */\n  static fail(msg?: string) {\n    const data = new ReturnData(\"fail\", null);\n    data.setMsg(msg || \"\");\n    return data;\n  }\n\n  /**\n   * 统一异常处理\n   * @param {IReturnData} ex\n   * @returns\n   */\n  static exception(ex: IReturnData<null>) {\n    return new ReturnData<null>(ex.getStatus(), ex.getData(), ex.getMsg());\n  }\n\n  /**\n   * 返回拒绝\n   * @returns ReturnData\n   */\n  static deny(msg?: string) {\n    return new ReturnData(\"deny\", null, msg || \"\");\n  }\n\n  /**\n   * 网络异常返回类\n   * @returns ReturnData\n   */\n  static networkError(msg?: string) {\n    return new ReturnData(\"NETWORK_ERROR\", null, msg || \"网络异常，请重试\");\n  }\n\n  /**\n   * 中断类\n   * @returns ReturnData\n   */\n  static interrupt(msg?: string) {\n    return new ReturnData(\"INTERRUPT\", null, msg || \"程序中断，请重试\");\n  }\n\n  /**\n   * 是否是中断返回\n   * @param data\n   * @returns\n   */\n  static isInterrupt(data: any) {\n    return ReturnData.getStatusValue(data) === \"INTERRUPT\";\n  }\n\n  /**\n   * 取消返回类\n   * @returns ReturnData\n   */\n  static cancel(msg?: string) {\n    return new ReturnData(\"CANCEL\", null, msg || \"网络异常，请重试\");\n  }\n\n  /**\n   * 是否是取消返回\n   * @param data\n   * @returns\n   */\n  static isCancel(data: any) {\n    return ReturnData.getStatusValue(data) === \"CANCEL\";\n  }\n\n  /**\n   * 顶级错误类\n   * @returns ReturnData\n   */\n  static error(msg?: string) {\n    return new this(\"ERROR\", null, msg || \"程序中断，请重试\");\n  }\n\n  /**\n   * 是否是顶级错误\n   * @param data\n   * @returns\n   */\n  static isError(data: any) {\n    return ReturnData.getStatusValue(data) === \"ERROR\";\n  }\n\n  static getStatusIsFunction(param: any) {\n    return param && typeof param.getStatus === \"function\";\n  }\n\n  static getStatusValue(obj: any) {\n    if (ReturnData.getStatusIsFunction(obj)) {\n      return obj.getStatus();\n    }\n\n    return obj?.status ?? \"\";\n  }\n}\n\nfunction getStatusIsFunction(param: any) {\n  return param && typeof param.getStatus === \"function\";\n}\n","import ReturnData from \"return-data\";\n\nexport default function Polling(\n  intervalTime = 1000,\n  pollingId = \"__polling__\",\n) {\n  return function closurePolling(\n    target: any,\n    property: string,\n    descriptor: PropertyDescriptor,\n  ) {\n    const originFn = descriptor.value;\n\n    descriptor.value = function fn(this: any, ...opts: any[]) {\n      if (!this.__polling__list__) {\n        this.__polling__list__ = Object.create(null);\n      }\n\n      if (!this.__polling__list__[pollingId]) {\n        this.__polling__list__[pollingId] = [];\n      }\n\n      if (!Array.isArray(this.__polling__list__[pollingId])) {\n        this.__polling__list__[pollingId] = [this.__polling__list__[pollingId]];\n      }\n\n      return new Promise(async (resolve) => {\n        const result = await originFn.apply(this, opts);\n        if (ReturnData.isOk(result)) {\n          resolve(result);\n          return;\n        }\n\n        const timer = setTimeout(async () => {\n          this.__polling__list__[pollingId] = this.__polling__list__?.[\n            pollingId\n          ]?.filter((item: ReturnType<typeof setTimeout>) => item !== timer);\n          clearTimeout(timer);\n          fn.apply(this, opts);\n        }, intervalTime);\n\n        this.__polling__list__[pollingId].push(timer);\n      });\n    };\n\n    const originOnUnload = target.onUnload;\n    target.onUnload = async function newOnUnload(...opts: any[]) {\n      this?.__polling__list__?.[pollingId]?.forEach(\n        (item: ReturnType<typeof setTimeout>) => {\n          clearTimeout(item);\n        },\n      );\n      this.__polling__list__[pollingId] = null;\n      const result = await originOnUnload.apply(this, opts);\n      return result;\n    };\n  };\n}\n\nexport function PollingAfter(intervalTime = 1000, pollingId = \"__polling__\") {\n  return function closurePolling(\n    target: any,\n    property: string,\n    descriptor: PropertyDescriptor,\n  ) {\n    const originFn = descriptor.value;\n\n    descriptor.value = function fn(this: any, ...opts: any[]) {\n      if (!this.__polling__list__) {\n        this.__polling__list__ = Object.create(null);\n      }\n\n      if (!this.__polling__list__[pollingId]) {\n        this.__polling__list__[pollingId] = [];\n      }\n\n      if (!Array.isArray(this.__polling__list__[pollingId])) {\n        this.__polling__list__[pollingId] = [this.__polling__list__[pollingId]];\n      }\n\n      return new Promise(async (resolve) => {\n        const timer = setTimeout(async () => {\n          this.__polling__list__[pollingId] = this.__polling__list__?.[\n            pollingId\n          ]?.filter((item: ReturnType<typeof setTimeout>) => item !== timer);\n          clearTimeout(timer);\n\n          const result = await originFn.apply(this, opts);\n          if (ReturnData.isOk(result)) {\n            resolve(result);\n            return;\n          }\n\n          fn.apply(this, opts);\n        }, intervalTime);\n\n        this.__polling__list__[pollingId].push(timer);\n      });\n    };\n\n    const originOnUnload = target?.onUnload;\n    target.onUnload = async function newOnUnload(...opts: any[]) {\n      this?.__polling__list__?.[pollingId]?.forEach(\n        (item: ReturnType<typeof setTimeout>) => {\n          clearTimeout(item);\n        },\n      );\n      this.__polling__list__[pollingId] = null;\n      const result = await originOnUnload?.apply?.(this, opts);\n      return result;\n    };\n  };\n}\n\nexport function pollingClear(content: any, pollingId = \"__polling__\") {\n  try {\n    content.__polling__list__?.[pollingId]?.forEach(\n      (item: ReturnType<typeof setTimeout>) => {\n        clearTimeout(item);\n      },\n    );\n    content.__polling__list__[pollingId] = null;\n  } catch (e) {\n    console.error(e);\n  }\n}\n\nexport function pollingClearAll(content: any) {\n  try {\n    Object.keys(content?.__polling__list__ || {}).forEach((pollingId) => {\n      content?.__polling__list__?.[pollingId]?.forEach(\n        (item: ReturnType<typeof setTimeout>) => {\n          clearTimeout(item);\n        },\n      );\n\n      clearTimeout(content?.__polling__list__?.[pollingId]);\n      content.__polling__list__[pollingId] = null;\n    });\n  } catch (e) {\n    console.error(e);\n  }\n}\n\nexport function PollingClearAllDeco() {\n  return function closurePollingClearAllDeco(\n    target: any,\n    property: string,\n    descriptor: PropertyDescriptor,\n  ) {\n    const originFn = descriptor.value;\n\n    descriptor.value = function fn(this: any, ...opts: any[]) {\n      const originResult = originFn.apply(this, opts);\n\n      if (\n        typeof originResult === \"object\" &&\n        typeof originResult?.then === \"function\"\n      ) {\n        return originResult.then(\n          () => {\n            pollingClearAll(this);\n          },\n          () => {\n            pollingClearAll(this);\n          },\n        );\n      }\n\n      pollingClearAll(this);\n\n      return originResult;\n    };\n  };\n}\n","export function Required(\n  errMsg: string,\n  propertyPath = \"\",\n): ParameterDecorator {\n  return function _required(\n    target: any,\n    property: string | symbol,\n    parameterIndex: number,\n  ): void {\n    if (!target?.__requiredData) {\n      target.__requiredData = new Map();\n    }\n    target.__requiredData.set(property, {\n      index: parameterIndex,\n      errMsg,\n      propertyPath,\n    });\n  };\n}\n\nexport class ParameterDecoratorError extends Error {\n  __id = \"ParameterDecoratorError\";\n\n  private status = \"PARAM_ERROR\";\n\n  private data = null;\n\n  private from = \"CheckParamRequired\";\n\n  constructor(msg: string) {\n    super(msg);\n  }\n\n  setData(val: any) {\n    this.data = val;\n  }\n\n  getData() {\n    return this.data;\n  }\n\n  setStatus(status: string) {\n    this.status = status;\n  }\n\n  getStatus() {\n    return this.status;\n  }\n\n  setFrom(from: string) {\n    this.from = from;\n  }\n\n  getFrom() {\n    return this.from;\n  }\n\n  static isParameterDecoratorError(obj: any) {\n    return (\n      obj instanceof ParameterDecoratorError ||\n      obj?.__id === new ParameterDecoratorError(\"\").__id\n    );\n  }\n}\n\nexport function CheckParamRequired(\n  target: any,\n  property: string,\n  propertyDescriptor: PropertyDescriptor,\n) {\n  const originalFn = propertyDescriptor.value;\n  propertyDescriptor.value = async function (...opts: any[]) {\n    const requiredData: Map<\n      string,\n      {\n        index: number;\n        errMsg: string;\n        propertyPath: string;\n      }\n    > = target?.__requiredData;\n    const requiredInfo = requiredData.get(property);\n    const index = Number(requiredInfo?.index);\n    const propertyPath = requiredInfo?.propertyPath;\n    const propertyPaths = propertyPath?.split(\".\") || [];\n    const val = propertyPaths.reduce((pre: any, pathKey: any) => {\n      if (typeof pre === \"undefined\" || pre === null) {\n        return pre;\n      }\n\n      if ((!pathKey && pathKey !== 0) || pathKey === \".\") {\n        return pre;\n      }\n      return pre?.[pathKey];\n    }, opts?.[index]);\n\n    if (\n      !isNaN(index) &&\n      (typeof val === \"undefined\" || val === \"\" || val === null)\n    ) {\n      throw new ParameterDecoratorError(\n        requiredInfo?.errMsg || `第${index + 1}个参数必传`,\n      );\n    }\n\n    const result = await originalFn.apply(this, opts);\n\n    return result;\n  };\n}\n\nexport default {\n  Required,\n  CheckParamRequired,\n  ParameterDecoratorError,\n};\n","import freeze from \"./lib/freeze\";\nimport * as miniprogram from \"./lib/miniprogram\";\nexport * from \"./lib/miniprogram\";\nexport * from \"./lib/common\";\n\nexport { freeze };\n\nexport default {\n  freeze,\n  miniprogram,\n};\n"],"names":["freeze","maxTimeout","target","property","descriptor","fn","value","freezeClick","fc","opts","_i","arguments","length","apply","this","_a","sent","cancel","Assemble","key","constructor","constructorArgs","then","args","map","item","__spreadArray","e","console","error","AssembleValue","ReturnData","status","data","msg","extraData","prototype","getStatus","getData","getMsg","setMsg","getExtraData","setExtraData","isOk","getStatusIsFunction","isFail","isDeny","hasData","param","isNetWorkError","cover","keyName","success","fail","exception","ex","deny","networkError","interrupt","isInterrupt","getStatusValue","isCancel","isError","obj","Polling","intervalTime","pollingId","originFn","_this","__polling__list__","Object","create","Array","isArray","Promise","resolve","__awaiter","result","timer","setTimeout","_b","filter","clearTimeout","push","originOnUnload","onUnload","forEach","_c","PollingAfter","_d","pollingClear","content","pollingClearAll","keys","PollingClearAllDeco","originResult","miniprogram","__proto__","ParameterDecoratorError","_super","call","__id","from","__extends","setData","val","setStatus","setFrom","getFrom","isParameterDecoratorError","Error","Required","errMsg","propertyPath","parameterIndex","__requiredData","Map","set","index","CheckParamRequired","propertyDescriptor","originalFn","requiredData","requiredInfo","get","Number","propertyPaths","split","reduce","pre","pathKey","isNaN","concat","exports","ParamDecorator","defineProperty"],"mappings":"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"}